(this["webpackJsonpnoteful-react-client"]=this["webpackJsonpnoteful-react-client"]||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),i=a(6),s=(a(29),a(18)),c=a(2),d=a(3),u=a(5),m=a(4),h=a(12),f=(a(30),"postgresql"),p="https://masonmeier-noteful-api.herokuapp.com/api/notes",E="https://masonmeier-noteful-api.herokuapp.com/api/folders",v="1515",b=r.a.createContext({folders:[],notes:[],deleteNote:function(){},addNote:function(){},addFolder:function(){},addErrorNotes:function(){},addErrorFolders:function(){},notesError:function(){},updateFolders:function(){},updateNotes:function(){},handleClickDeleteFolder:function(){}}),g=function(e){return r.a.createElement("header",null,r.a.createElement("span",null,r.a.createElement("h1",null,r.a.createElement(i.b,{to:"/"},"Noteful"))),r.a.createElement("span",null,"a React app",r.a.createElement("br",null),"(everything takes a couple of seconds to load)"))},C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(d.a)(a,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h2",null,"Could not display this folder."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component),N=function(e){var t,a=Object(n.useContext)(b),o=a.notes,l=a.folders,s=a.handleClickDeleteFolder;return t="postgresql"===f?parseInt(e.match.params.id_folder):e.match.params.id_folder,r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Folders"),"\xa0\xa0",r.a.createElement(i.c,{to:"/add-folder"},r.a.createElement("button",{className:"btn-add"},"+")),"\xa0\xa0",void 0!==e.match.params.id_folder?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,{to:"/edit-folder/".concat(e.match.params.id_folder)},r.a.createElement("button",{className:"btn-edit"},"\u270e")),"\xa0\xa0",r.a.createElement("button",{className:"btn-delete",onClick:function(){return s(t,e)}},"-")):null)),r.a.createElement("ul",null,l.map((function(e){return r.a.createElement("li",{key:e.id,className:e.id===t?" active":null},r.a.createElement(C,null,r.a.createElement(i.c,{to:"/folders/".concat(e.id)},r.a.createElement("span",{role:"img","aria-label":"Folder"},"\ud83d\udcc2"),"\xa0",e.name,"\xa0(",o.filter((function(t){return t.id_folder===e.id})).length,")")))}))))},y=function(e){var t,a=Object(n.useContext)(b),o=a.folders,l=a.notes;t="postgresql"===f?parseInt(e.match.params.noteId):e.match.params.noteId;var s=l?l.find((function(e){return e.id===t})):"";if(!s)return"Sorry, no note found.";var c=s.id_folder,d=o.filter((function(e){return e.id===c}));return r.a.createElement(r.a.Fragment,null,d?d.map((function(t){return r.a.createElement("header",{key:t.id},r.a.createElement("h2",null,t.name,r.a.createElement("br",null),r.a.createElement(i.c,{to:"/edit-folder/".concat(t.id)},r.a.createElement("button",{className:"btn-edit"},"\u270e")),r.a.createElement("br",null),r.a.createElement("button",{className:"btn-save",onClick:e.history.goBack},"Go Back")))})):null)},F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(d.a)(a,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h2",null,"Could not display this note."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClickDelete=function(t){t.preventDefault();var a=e.props.note.id;fetch(p+"/".concat(a),{method:"DELETE",headers:{"content-type":"application/json",authorization:"Bearer ".concat(v)}}).then((function(e){return e.ok&&"404"!==e.status?e.json():e.json().then((function(t){throw e.status}))})).then((function(t){e.context.deleteNote(a),e.props.location.pathname.includes("/notes/")&&e.props.history.push("/"),e.props.location.pathname.includes("/folders/")&&e.props.history.push(e.props.location.pathname)})).catch((function(t){404!==t&&e.context.addErrorNotes(t),404===t&&(e.context.deleteNote(a),e.props.location.pathname.includes("/notes/")&&e.props.history.push("/"),e.props.location.pathname.includes("/folders/")&&e.props.history.push(e.props.location.pathname))}))},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"note-item"},this.context.notesError&&r.a.createElement("p",{className:"error"},this.context.notesError.value),r.a.createElement(i.c,{to:{pathname:"/notes/".concat(this.props.note.id),props:this.props}},r.a.createElement("h3",null,this.props.note.name)),r.a.createElement("div",{className:"button-container"},r.a.createElement("span",null,"Modified on"," ",r.a.createElement("span",{className:"note-datemod"}," ",this.props.note.modified?this.props.note.modified.toString().split("T",1)[0]:"")),r.a.createElement("span",null,r.a.createElement(i.c,{to:"/edit-note/".concat(this.props.note.id)},r.a.createElement("button",{className:"btn-edit-note"},"\u270e")),"\xa0\xa0\xa0",r.a.createElement("button",{className:"btn-delete-note",onClick:this.handleClickDelete},"-"))))}}]),a}(r.a.Component);j.contextType=b;var S=function(e){var t,a=Object(n.useContext)(b).notes;t="postgresql"===f?parseInt(e.match.params.id_folder):e.match.params.id_folder;var o=e.match.params.id_folder?a.filter((function(e){return e.id_folder===t})):a;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("h2",null,"Notes"),"\xa0\xa0",r.a.createElement(i.c,{to:{pathname:"/add-note",state:{id_folder:e.match.params.id_folder}}},r.a.createElement("button",{className:"btn-add"},"+"))),o.length>0?o.map((function(t){return r.a.createElement("section",{key:t.id},r.a.createElement(F,null,r.a.createElement("div",{className:"note"},r.a.createElement(j,Object.assign({note:t},e)))))})):r.a.createElement("section",{className:"no-border"},r.a.createElement("div",{className:"note"},"No notes in this folder.")))},k=function(e){var t,a=Object(n.useContext)(b).notes;t="postgresql"===f?parseInt(e.match.params.noteId):e.match.params.noteId;var o=a.find((function(e){return e.id===t}))||{};return r.a.createElement("section",null,r.a.createElement("div",{className:"note"},r.a.createElement(j,Object.assign({},e,{note:o})),r.a.createElement("p",{className:"note-content"},o.content)))},O=a(10),_=a(11);function x(e){return e.message?r.a.createElement("div",{className:"error",id:e.id},e.message):r.a.createElement(r.a.Fragment,null)}var D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={apiError:null,formValid:!1,errorCount:null,name:"",errors:{name:"You must enter a folder name"}},e.updateErrorCount=function(){var t=e.state.errors,a=0;Object.values(t).forEach((function(e){e.length>0&&a++})),e.setState({errorCount:a});var n=0===a;e.setState({formValid:n})},e.validateField=function(t,a){var n="";"name"===t&&(0===a.trim().length?n="Folder name is required":a.trim().length<3&&(n="Folder name must be at least 3 characters long"));var r=Object(_.a)({},e.state).errors;r[t]=n,e.setState({errors:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r.trim())),e.validateField(n,r),e.updateErrorCount()},e.handleClickCancel=function(){e.props.history.push("/")},e.handleSubmit=function(t){if(t.preventDefault(),!(e.state.errorCount>0)){var a=t.target.name,n={name:a.value};e.setState({apiError:null}),fetch(E,{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(t){a.value="",e.context.addFolder(t),e.props.history.push("/folders/".concat(t.id))})).catch((function(t){e.setState({apiError:t})}))}},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.errors;return this.state.apiError?r.a.createElement("p",{className:"error"},this.state.apiError):r.a.createElement("form",{className:"addFolderForm",onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"New Folder"),r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",name:"name","aria-label":"Folder Name",required:!0,"aria-required":"true","aria-describedby":"folderNameError","aria-invalid":"true",onChange:this.handleChange}),e.name.length>0&&r.a.createElement(x,{message:e.name,id:"folderNameError"}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn-cancel",onClick:this.handleClickCancel},"Cancel")," ",r.a.createElement("button",{className:"btn-save",disabled:!1===this.state.formValid},"Save Folder")),null!==this.state.errorCount?r.a.createElement("p",{className:"form-status"},"Form is ",this.state.formValid?"complete  \u2705":"incomplete  \u274c"):null)}}]),a}(r.a.Component);D.contextType=b;var q=D,T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={apiError:null,formValid:!1,errorCount:null,id_folder:e.props.location.state.id_folder||"",name:"",content:"",errors:{id_folder:!e.props.location.state.id_folder&&"You must select a folder",name:"You must enter a note title",content:"You must enter a description"}},e.updateErrorCount=function(){var t=e.state.errors,a=0;Object.values(t).forEach((function(e){e.length>0&&a++})),e.setState({errorCount:a});var n=0===a;e.setState({formValid:n})},e.validateField=function(t,a){var n="";"name"===t&&(0===a.length?n="Note title is required":a.length<3&&(n="Note title must be at least 3 characters long")),"id_folder"===t&&0===a.length&&(n="You must select a folder"),"content"===t&&(0===a.length?n="You must enter a description":a.length<5&&(n="The description must be at least 5 characters long"));var r=Object(_.a)({},e.state).errors;r[t]=n,e.setState({errors:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r.trim())),e.validateField(n,r.trim()),e.updateErrorCount()},e.handleClickCancel=function(){e.props.history.push("/")},e.handleSubmit=function(t){if(t.preventDefault(),!(e.state.errorCount>0)){var a=t.target,n=a.id_folder,r=a.name,o=a.content,l={id_folder:n.value,name:r.value,content:o.value,modified:new Date(Date.UTC())};e.setState({apiError:null}),fetch(p,{method:"POST",body:JSON.stringify(l),headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(t){n.value="",r.value="",o.value="",e.context.addNote(t),e.props.history.push("/folders/".concat(n.value))})).catch((function(t){e.setState({apiError:t})}))}},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.errors,t=this.context.folders;return this.state.apiError?r.a.createElement("p",{className:"error"},this.state.apiError):r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"New Note"),r.a.createElement("label",{htmlFor:"id_folder"},"Folder"),r.a.createElement("select",{id:"id_folder",name:"id_folder","aria-label":"Folder Id",required:!0,"aria-required":"true","aria-describedby":"id_folderError","aria-invalid":"true",value:this.state.id_folder,onChange:this.handleChange},r.a.createElement("option",{value:""},"Select a folder"),t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),e.id_folder.length>0&&r.a.createElement(x,{id:"id_folderError",message:e.id_folder}),r.a.createElement("label",{htmlFor:"name"},"Title"),r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:this.handleChange,"aria-label":"Note Title",required:!0,"aria-required":"true","aria-describedby":"noteTitleError","aria-invalid":"true"}),e.name.length>0&&r.a.createElement(x,{id:"noteTitleError",message:e.name}),r.a.createElement("label",{htmlFor:"content"},"Description"),r.a.createElement("textarea",{id:"content",name:"content",onChange:this.handleChange,"aria-label":"Note Description",required:!0,"aria-required":"true","aria-describedby":"noteDescriptionError","aria-invalid":"true"}),e.content.length>0&&r.a.createElement(x,{id:"noteDescriptionError",message:e.content}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn-cancel",onClick:this.handleClickCancel},"Cancel")," ",r.a.createElement("button",{className:"btn-save",disabled:!1===this.state.formValid},"Save Note")),null!==this.state.errorCount?r.a.createElement("p",{className:"form-status"},"Form is ",this.state.formValid?"complete  \u2705":"incomplete  \u274c"):null)}}]),a}(r.a.Component);T.contextType=b;var w=T,V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={apiError:null,formValid:!0,errorCount:null,id:e.props.match.params.id_folder,name:"",errors:{name:""}},e.updateErrorCount=function(){var t=e.state.errors,a=0;Object.values(t).forEach((function(e){e.length>0&&a++})),e.setState({errorCount:a});var n=0===a;e.setState({formValid:n})},e.validateField=function(t,a){var n="";"name"===t&&(0===a.trim().length?n="Folder name is required":a.trim().length<3&&(n="Folder name must be at least 3 characters long"));var r=Object(_.a)({},e.state).errors;r[t]=n,e.setState({errors:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r.trim())),e.validateField(n,r),e.updateErrorCount()},e.handleClickCancel=function(){e.props.history.push("/")},e.resetFields=function(t){e.setState({id:t.id||"",name:t.name||""})},e.handleSubmit=function(t){if(t.preventDefault(),!(e.state.errorCount>0)){var a=e.props.match.params.id_folder,n=e.state,r={id:n.id,name:n.name};e.setState({apiError:null}),fetch(E+"/".concat(a),{method:"PATCH",body:JSON.stringify(r),headers:{"content-type":"application/json",authorization:"Bearer ".concat(v)}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.resetFields(r),e.context.updateFolders(r),e.props.history.push("/")})).catch((function(t){e.setState({apiError:t})}))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id_folder;fetch(E+"/".concat(t),{method:"GET",headers:{"content-type":"application/json",authorization:"Bearer ".concat(v)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.setState({id:t.id,name:t.name})})).catch((function(t){e.setState({apiError:t})}))}},{key:"render",value:function(){var e=this,t=this.state.errors;return this.state.apiError?r.a.createElement("p",{className:"error"},this.state.apiError):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"editFolderForm",onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Edit Folder"),r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",name:"name","aria-label":"Folder Name",required:!0,"aria-required":"true","aria-describedby":"folderNameError","aria-invalid":"true",value:this.state.name,onChange:this.handleChange}),t.name.length>0&&r.a.createElement(x,{message:t.name,id:"folderNameError"}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn-cancel",onClick:this.handleClickCancel},"Cancel")," ",r.a.createElement("button",{className:"btn-save",disabled:!1===this.state.formValid},"Save Folder")," ")),this.state.formValid?r.a.createElement("button",{className:"btn-delete-folder btn-position",disabled:!1===this.state.formValid,onClick:function(){return e.context.handleClickDeleteFolder(e.state.id,e.props)}},"Delete"):null,null!==this.state.errorCount?r.a.createElement("p",{className:"form-status"},"Form is ",this.state.formValid?"complete  \u2705":"incomplete  \u274c"):null)}}]),a}(r.a.Component);V.contextType=b;var I=V,A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={apiError:null,formValid:!0,errorCount:null,id:"",id_folder:"",name:"",content:"",errors:{id_folder:"",name:"",content:""}},e.updateErrorCount=function(){var t=e.state.errors,a=0;Object.values(t).forEach((function(e){e.length>0&&a++})),e.setState({errorCount:a});var n=0===a;e.setState({formValid:n})},e.validateField=function(t,a){var n="";"name"===t&&(0===a.length?n="Note title is required":a.length<3&&(n="Note title must be at least 3 characters long")),"id_folder"===t&&0===a.length&&(n="You must select a folder"),"content"===t&&(0===a.length?n="You must enter a description":a.length<5&&(n="The description must be at least 5 characters long"));var r=Object(_.a)({},e.state).errors;r[t]=n,e.setState({errors:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r)),e.validateField(n,r),e.updateErrorCount()},e.handleClickCancel=function(){e.props.history.push("/")},e.resetFields=function(t){e.setState({id:t.id||"",name:t.name||"",content:t.content||"",id_folder:t.id_folder||""})},e.handleSubmit=function(t){if(t.preventDefault(),!(e.state.errorCount>0)){var a=e.props.match.params.noteId,n={id:"postgresql"===f?parseInt(e.state.id):e.state.id,id_folder:"postgresql"===f?parseInt(e.state.id_folder):e.state.id_folder,name:e.state.name,content:e.state.content,modified:new Date};e.setState({apiError:null}),fetch(p+"/".concat(a),{method:"PATCH",body:JSON.stringify(n),headers:{"content-type":"application/json",authorization:"Bearer ".concat(v)}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.resetFields(n),e.context.updateNotes(n),e.props.history.push("/folders/".concat(e.state.id_folder))})).catch((function(t){t(t),e.setState({apiError:t})}))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.noteId;fetch(p+"/".concat(t),{method:"GET",headers:{"content-type":"application/json",authorization:"Bearer ".concat(v)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.setState({id:t.id,name:t.name,id_folder:t.id_folder,content:t.content})})).catch((function(t){e.setState({apiError:t})}))}},{key:"render",value:function(){var e=this.state,t=e.errors,a=e.name,n=e.content,o=e.id_folder,l=this.context.folders;return this.state.apiError?r.a.createElement("p",{className:"error"},this.state.apiError):r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Edit Note"),r.a.createElement("label",{htmlFor:"id_folder"},"Folder"),r.a.createElement("select",{id:"id_folder",name:"id_folder","aria-label":"Folder Id",required:!0,"aria-required":"true","aria-describedby":"id_folderError","aria-invalid":"true",value:o,onChange:this.handleChange},r.a.createElement("option",{value:""},"Select a folder"),l.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),t.id_folder.length>0&&r.a.createElement(x,{id:"id_folderError",message:t.id_folder}),r.a.createElement("label",{htmlFor:"name"},"Title"),r.a.createElement("input",{type:"text",id:"name",name:"name",value:a,onChange:this.handleChange,"aria-label":"Note Title",required:!0,"aria-required":"true","aria-describedby":"noteTitleError","aria-invalid":"true"}),t.name.length>0&&r.a.createElement(x,{id:"noteTitleError",message:t.name}),r.a.createElement("label",{htmlFor:"content"},"Description"),r.a.createElement("textarea",{id:"content",name:"content",value:n,onChange:this.handleChange,"aria-label":"Note Description",required:!0,"aria-required":"true","aria-describedby":"noteDescriptionError","aria-invalid":"true"}),t.content.length>0&&r.a.createElement(x,{id:"noteDescriptionError",message:t.content}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn-cancel",onClick:this.handleClickCancel},"Cancel")," ",r.a.createElement("button",{className:"btn-save",disabled:!1===this.state.formValid},"Save Note")),null!==this.state.errorCount?r.a.createElement("p",{className:"form-status"},"Form is ",this.state.formValid?"complete  \u2705":"incomplete  \u274c"):null)}}]),a}(r.a.Component);A.contextType=b;var B=[{path:"/",exact:!0,header:g,aside:N,section:S},{path:"/folders/:id_folder",exact:!0,header:g,aside:N,section:S},{path:"/notes/:noteId",exact:!0,header:g,aside:y,section:k},{path:"/add-folder",exact:!0,header:g,aside:null,section:q},{path:"/add-note",exact:!0,header:g,aside:null,section:w},{path:"/edit-note/:noteId",exact:!0,header:g,aside:null,section:A},{path:"/edit-folder/:id_folder",exact:!0,header:g,aside:null,section:I},{path:"/delete-folder/:id_folder",exact:!0,header:g,aside:N,section:S},{path:"/:any/:any/:any",exact:!0,header:g,aside:function(){return null},section:function(){return"Do not edit the  url!"}}],z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={folders:[],notes:[],foldersError:null,notesError:null,deleteFolderId:null},e.deleteNote=function(t){var a=e.state.notes.filter((function(e){return e.id!==t}));e.setState({notes:a})},e.deleteFolder=function(t){var a=e.state.folders.filter((function(e){return e.id!==t}));e.setState({folders:a}),e.getNotes()},e.addNote=function(t){e.setState({notes:[].concat(Object(s.a)(e.state.notes),[t])})},e.addFolder=function(t){e.setState({folders:[].concat(Object(s.a)(e.state.folders),[t])})},e.addErrorNotes=function(t){e.setState({notesError:t})},e.addErrorFolders=function(t){e.setState({foldersError:t})},e.setFolders=function(t){e.setState({folders:t,error:null})},e.setNotes=function(t){e.setState({notes:t,error:null})},e.getFolders=function(){fetch(E,{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then(e.setFolders).catch((function(t){return e.setState({foldersError:t})}))},e.getNotes=function(){fetch(p,{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then(e.setNotes).catch((function(t){return e.setState({notesError:t})}))},e.updateFolders=function(t){var a=e.state.folders.map((function(e){return e.id!==t.id?e:t}));e.setState({folders:a})},e.updateNotes=function(t){var a=e.state.notes.map((function(e){return e.id!==t.id?e:t}));e.setState({notes:a})},e.handleClickDeleteFolder=function(t,a){fetch(E+"/".concat(t),{method:"DELETE",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(v)}}).then((function(e){return e.ok&&"404"!==e.status?e.json():e.json().then((function(t){throw e.status}))})).then((function(n){e.deleteFolder(t),a.history.push("/")})).catch((function(n){404!==n&&e.addErrorFolders(n),404===n&&(e.deleteFolder(t),a.history.push("/"))}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getFolders(),this.getNotes()}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,deleteNote:this.deleteNote,addNote:this.addNote,addFolder:this.addFolder,addErrorNotes:this.addErrorNotes,addErrorFolders:this.addErrorFolders,notesError:this.notesError,updateFolders:this.updateFolders,updateNotes:this.updateNotes,handleClickDeleteFolder:this.handleClickDeleteFolder};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(b.Provider,{value:e},r.a.createElement("main",null,r.a.createElement("div",{className:"aside"},this.state.foldersError&&r.a.createElement("p",{className:"error"},this.state.foldersError.value),B.map((function(e){var t=e.path,a=e.exact,n=e.aside;return r.a.createElement(h.a,{key:t,path:t,exact:a,component:n})}))),r.a.createElement("article",null,this.state.notesError&&r.a.createElement("p",{className:"error"},this.state.notesError.value),B.map((function(e){var t=e.path,a=e.exact,n=e.section;return r.a.createElement(h.a,{key:t,path:t,exact:a,component:n})}))))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(i.a,{basename:""},r.a.createElement(z,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.29dcd91c.chunk.js.map